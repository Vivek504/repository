<html>
<head>
	<title> Flight Details </title>
	<script type="text/Javascript">
		function select_flight() {
			var flights=document.getElementsByName('select1');
			var flight_value;
			for(var i = 0; i < flights.length; i++){
    			if(flights[i].checked){
        			flight_value = flights[i].value;
   				}
			}
		}
	</script>
	<style>
	table{
		border: 1px solid black;
		border-collapse: collapse;
	}
	table td{
		column-width: 150px;
		text-align: center;
	}
	</style>
</head>
<body>
	<form action="roundtrip_flight_details.html" method="POST">
	{% csrf_token %}
		<h3> {{ source }} -> {{ destination }} </h3>
		{% for flight in data1 %}
			<table width="100%">
				{% if flight.date > current_date %}
					<tr>
						<td> {{ flight.company }} </td>
						<td> {{ flight.date }} </td>
						<td> {{ flight.arrival_date }} </td>
						<td> {{ travellers }} </td>
						<td> </td>
					</tr>
					<tr>
						<td> {{ flight.flight_no }} </td>
						<td> {{ flight.departure_time }} </td>
						<td> {{ flight.arrival_time }} </td>
						<td> {% if cls == "economy" %}
								{% widthratio flight.economy_price 1 travellers %}
							{% elif cls == "business" %}
								{% widthratio flight.business_price 1 travellers %}
							{% else %}
								{% widthratio flight.first_class_price 1 travellers %}
							{% endif %} </td>
						<td> <input type="radio" value="{{ flight.id }}" name="select1"> </td>
					</tr>
				{% elif flight.date == current_date and flight.departure_time > current_time %}
					<tr>
						<td> {{ flight.company }} </td>
						<td> {{ flight.date }} </td>
						<td> {{ flight.arrival_date }} </td>
						<td> {{ travellers }} </td>
						<td> </td>
					</tr>
					<tr>
						<td> {{ flight.flight_no }} </td>
						<td> {{ flight.departure_time }} </td>
						<td> {{ flight.arrival_time }} </td>
						<td> {% if cls == "economy" %}
								{% widthratio flight.economy_price 1 travellers %}
							{% elif cls == "business" %}
								{% widthratio flight.business_price 1 travellers %}
							{% else %}
								{% widthratio flight.first_class_price 1 travellers %}
							{% endif %} </td>
						<td> <input type="radio" value="{{ flight.id }}" name="select1"> </td>
					</tr>
				{% endif %}
			</table>
			<br>
		{% endfor %}
		
		<h3> {{ destination }} -> {{ source }} </h3>
		{% for flight in data2 %}
			<table width="100%">
				{% if flight.date > current_date %}
					<tr>
						<td> {{ flight.company }} </td>
						<td> {{ flight.date }} </td>
						<td> {{ flight.arrival_date }} </td>
						<td> {{ travellers }} </td>
						<td> </td>
					</tr>
					<tr>
						<td> {{ flight.flight_no }} </td>
						<td> {{ flight.departure_time }} </td>
						<td> {{ flight.arrival_time }} </td>
						<td> {% if cls == "economy" %}
								{% widthratio flight.economy_price 1 travellers %}
							{% elif cls == "business" %}
								{% widthratio flight.business_price 1 travellers %}
							{% else %}
								{% widthratio flight.first_class_price 1 travellers %}
							{% endif %} </td>
						<td> <input type="radio" value="{{ flight.id }}" name="select2"> </td>
					</tr>
				{% elif flight.date == current_date and flight.departure_time > current_time %}
					<tr>
						<td> {{ flight.company }} </td>
						<td> {{ flight.date }} </td>
						<td> {{ flight.arrival_date }} </td>
						<td> {{ travellers }} </td>
						<td> </td>
					</tr>
					<tr>
						<td> {{ flight.flight_no }} </td>
						<td> {{ flight.departure_time }} </td>
						<td> {{ flight.arrival_time }} </td>
						<td> {% if cls == "economy" %}
								{% widthratio flight.economy_price 1 travellers %}
							{% elif cls == "business" %}
								{% widthratio flight.business_price 1 travellers %}
							{% else %}
								{% widthratio flight.first_class_price 1 travellers %}
							{% endif %} </td>
						<td> <input type="radio" value="{{ flight.id }}" name="select2"> </td>
					</tr>
				{% endif %}
			</table>
			<br>
		{% endfor %}	
		<input type="submit" onclick="select_flight()"/>
		<b id="selectedflight1"></b>
	</form>
</body>
</html>